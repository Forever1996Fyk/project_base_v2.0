<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:mo="https://github.com/Forever1996Fyk/project_base_v2.0">
<head th:replace="/common/template :: header(~{::title},~{::link},~{::style})">
    <link rel="stylesheet" th:href="@{/lib/zTree_v3/css/zTreeStyle/zTreeStyle.css}" type="text/css">
</head>
<body class="timo-layout-page">
    <div class="layui-card">
        <div class="layui-card-header timo-card-header">
            <span><i class="fa fa-bars"></i> 用户管理</span>
            <i class="layui-icon layui-icon-refresh refresh-btn"></i>
            <a th:href="@{/system/user/export}"><i class="fa fa-download"></i></a>
        </div>
        <div class="layui-card-body">
            <div class="layui-row timo-card-screen put-row">
                <div class="pull-left layui-form-pane search-box">
                    <form id="frmSearch">
                        <div class="layui-inline">
                            <label class="layui-form-label">用户名</label>
                            <div class="layui-input-block">
                                <input type="text" name="userName" placeholder="请输入用户名" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <label class="layui-form-label">用户昵称</label>
                            <div class="layui-input-block">
                                <input type="text" name="nickName" placeholder="请输入用户昵称" autocomplete="off" class="layui-input">
                            </div>
                        </div>
                        <div class="layui-inline">
                            <!-- 这里使用a标签，因为在form标签中按钮会直接触发action,导致请求两次接口 -->
                            <a class="layui-btn" data-type="search">
                                <i class="fa fa-search"></i>
                            </a>
                        </div>
                    </form>
                    <!--<div class="layui-inline">
                        <label class="layui-form-label">状态</label>
                        <div class="layui-input-block timo-search-status">
                            <select class="timo-search-select" name="status" mo:dict="SEARCH_STATUS" mo-selected="${param.status}"></select>
                        </div>
                    </div>
                    <div class="layui-inline">
                        <label class="layui-form-label">所在部门</label>
                        <div class="layui-input-block">
                            <input class="layui-input select-tree" th:attr="data-url=@{/system/dept/list}, data-value=${dept?.id}" th:value="${dept?.title}" type="text" name="dept" placeholder="请选择部门">
                        </div>
                    </div>-->
                </div>
                <div class="pull-right screen-btn-group">
                    <div class="btn-group-left">
                        <button class="layui-btn open-popup-param" data-type="radio" data-title="角色分配" th:attr="data-url=@{/system/user/roleAssign}" data-size="480,400">
                            <i class="fa fa-user-secret"></i> 角色分配</button>
                    </div>
                    <div class="btn-group-right">
                        <button class="layui-btn open-popup" data-title="添加用户" th:attr="data-url=@{/system/user/add}"  data-size="auto">
                            <i class="fa fa-plus"></i> 添加</button>
                        <div class="btn-group">
                            <button class="layui-btn">操作<span class="caret"></span></button>
                            <dl class="layui-nav-child layui-anim layui-anim-upbit">
                                <dd><a class="ajax-status" th:href="@{/system/user/status/ok}">启用</a></dd>
                                <dd><a class="ajax-status" th:href="@{/system/user/status/freezed}">冻结</a></dd>
                                <dd><a class="ajax-status" th:href="@{/api/users/}">删除</a></dd>
                            </dl>
                        </div>
                    </div>
                </div>
            </div>
            <div class="timo-table-wrap">
                <table class="layui-table list-table" id="userListTable" lay-filter="tblist">
                    <script type="text/html" id="btn">
                        <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>
                        <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>
                    </script>
                </table>
            </div>
        </div>
    </div>
<!-- 公共部分导入 -->
<script th:replace="/common/template :: script"></script>
<script type="text/javascript" th:src="@{/lib/zTree_v3/js/jquery.ztree.core.min.js}"></script>
<script type="text/javascript" th:src="@{/js/timoTree.js}"></script>

<script type="text/javascript" th:src="@{/js/system/user/user.js}"></script>

<!--<script type="text/javascript">-->
    <!--var local = window.localStorage;-->
    <!--// 树形菜单-->
    <!--$.fn.selectTree({-->
        <!--rootTree: '全部',-->
        <!--onSelected: function(treeNode){-->
            <!--local.setItem('deptTitle', treeNode.name);-->
        <!--}-->
    <!--});-->
<!--</script>-->
</body>
</html>